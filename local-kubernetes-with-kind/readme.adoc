== General Information
* https://kind.sigs.k8s.io[Website]
* https://github.com/kubernetes-sigs/kind/[Open Source on Github]
* https://landscape.cncf.io/?selected=kind[Kind in CNCF (Cloud Native Interactive Landscape)]

In general, a Kubernetes cluster is started with the help of Docker. After starting a Kind cluster:

----
$ docker container ps
CONTAINER ID   IMAGE                  COMMAND                  CREATED       STATUS       PORTS                       NAMES
4f94409d1b75   kindest/node:v1.21.1   "/usr/local/bin/entr…"   3 hours ago   Up 3 hours   127.0.0.1:45301->6443/tcp   democluster-control-plane
----

== Installation of Kind on Ubuntu in WSL2

* assumed already installed:
** Docker
** kubectl

=== Install Go
** download with wget from https://go.dev/dl/
** follow installation instructions for Linux at https://go.dev/doc/install

=== Install Kind
* see https://kind.sigs.k8s.io/docs/user/quick-start/#installing-from-release-binaries and copy file
kind to /usr/local/bin


=== First Usage
* create cluster with

[source, terminal]
----
$ kind create cluster --name democluster
Creating cluster "democluster" ...
 ✓ Ensuring node image (kindest/node:v1.21.1) 🖼
 ✓ Preparing nodes 📦
 ✓ Writing configuration 📜
 ✓ Starting control-plane 🕹️
 ✓ Installing CNI 🔌
 ✓ Installing StorageClass 💾
Set kubectl context to "kind-democluster"
You can now use your cluster with:

kubectl cluster-info --context kind-democluster

Have a nice day! 👋
----

* the above sets kubectl context to "kind-democluster" so that all kubectl commands now target that cluster, see
"democluster" in front of the node here:

----
$ kubectl get nodes
NAME                        STATUS   ROLES                  AGE     VERSION
democluster-control-plane   Ready    control-plane,master   5m33s   v1.21.1
----

* contexts are managed in /home/user/.kube/config
* other contexts:
----
$ kubectl config get-contexts
CURRENT   NAME               CLUSTER            AUTHINFO           NAMESPACE
*         kind-democluster   kind-democluster   kind-democluster
----
* switch between contexts:
----
$ kubectl config use-context kind-democluster
----

== Useful Kind-commands
----
$ kind -h
$ kind get clusters
$ kind create cluster --name cluster-to-delete
$ kind delete cluster --name cluster-to-delete
$ kind get nodes
----

== Configuration
=== Multi-Node Cluster
Cluster-creation can be configured via yaml-file, see https://kind.sigs.k8s.io/docs/user/configuration/[here], for
example multi-node cluster like this:

.multi-node-config.yaml
[source, yaml]
----
kind: Cluster
apiVersion: kind.x-k8s.io/v1alpha4
name: multi-node-cluster
nodes:
  - role: control-plane
  - role: worker
  - role: worker
  - role: worker
----

----
$ kind create cluster --config multi-node-config.yaml
----

Created nodes:

----
$ kind get nodes --name multi-node-cluster
multi-node-cluster-worker3
multi-node-cluster-worker2
multi-node-cluster-control-plane
multi-node-cluster-worker
----



== Sources
* https://kind.sigs.k8s.io[Kind Homepage]
* https://www.youtube.com/watch?v=m-IlbCgSzkc[How to run Kubernetes locally with Kind, That DevOps Guy, YouTube,
10:48.], shows installation and examples

